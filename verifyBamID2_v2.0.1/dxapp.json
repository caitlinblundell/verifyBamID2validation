{
  "name": "verifybamid2_v2.0.1",
  "title": "verifyBamID2_v2.0.1",
  "summary": "v2.0.1: Detects and estimates inter-sample contamination in an NGS run using pooled allele frequencies",
  "dxapi": "1.0.0",
  "version": "0.0.1",
  "inputSpec": [
    {
      "name": "reference_fasta",
      "label": "BAM reference genome",
      "class": "file",
      "optional": false,
      "default":
        {
          "name": "hs37d5.fa.gz",
          "$dnanexus_link": {
            "project": "project-ByfFPz00jy1fk6PjpZ95F27J",
            "id": "file-B6ZY7VG2J35Vfvpkj8y0KZ01"
            }
        },
      "patterns": [
        "*.fa", "*.fa.gz"
      ],
      "help": "The reference genome in FASTA format that was used to align the reads in the BAM file."
    },
    {
      "name": "reference_fasta_index",
      "label": "Reference genome index files",
      "class": "file",
      "optional": false,
      "default": 
      {
        "name": "hs37d5.fasta-index.tar.gz",
        "$dnanexus_link": {
          "project": "project-ByfFPz00jy1fk6PjpZ95F27J",
          "id": "file-ByYgX700b80gf4ZY1GxvF3Jv"
        } 
      },
      "help": "Tar.gz archive containing index files (e.g. .fai) for the reference FASTA"
    },
    {
      "name": "input_bam",
      "label": "Aligned read data",
      "class": "file",
      "optional": false,
      "patterns": [
        "*.bam"
      ],
      "help": "The BAM file from read data to be checked for contamination."
    },
    {
      "name": "input_bam_index",
      "label": "BAM index file",
      "class": "file",
      "optional": false,
      "patterns": [
        "*.bai"
      ],
      "help": "The index file corresponding to the input BAM file."
    },
    {
      "name": "svd_prefix",
      "label": "SVD prefix file",
      "class": "string",
      "optional": false,
      "default": "1000g.phase3.100k.b37.vcf.gz.dat",
      "help": "Resource file containing population reference data "
    },
    {
      "name": "skip",
      "label": "skip",
      "help": "Skip this step if not required",
      "class": "boolean",
      "default": false,
      "optional": true
	  }
  ],
  "outputSpec": [
    {
      "name": "selfSM",
      "class": "file",
      "patterns": [
        "*.selfSM"
      ],
      "help": "Output containing contamination estimates for the sample in the BAM file."
    },
    {
      "name": "ancestry",
      "class": "file",
      "patterns": [
        "*.Ancestry"
      ],
      "help": "PC co-ordinates of the contaminating and intended samples in the BAM file."
    }
  ],
  "runSpec": {
    "interpreter": "bash",
    "file": "src/verifyBamID2_v2.0.1.sh",
    "distribution": "Ubuntu",
    "release": "24.04",
    "version": "0"
  },
  "access": {
    "network": [
      "*"
    ],
    "allProjects": "VIEW"
  },
  "regionalOptions": {
    "aws:us-east-1": {
      "systemRequirements": {
        "*": {
          "instanceType": "mem1_ssd1_v2_x4"
        }
      }
    }
  }
}
